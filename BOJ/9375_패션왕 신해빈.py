from collections import defaultdict
for _ in range(int(input())):
    ans,d=1,defaultdict(int)
    for _ in range(int(input())):
        _,y=input().split()
        d[y] += 1
    for _,c in d.items(): ans *= (c+1)
    print(ans-1)